{% extends "base.html" %}

{% block title %}Editar Usuário{% endblock %}

{% block content %}
<div class="d-flex justify-content-center">
  <div class="card shadow-sm p-4" style="max-width: 500px; width: 100%;">
    <h4 class="text-center text-primary mb-4">
      <i class="bi bi-pencil-square me-2"></i>Editar Usuário
    </h4>

    <form method="post">
      <div class="mb-3">
        <label for="usuario" class="form-label">Nome de Usuário</label>
        <input type="text" id="usuario" name="usuario" class="form-control" value="{{ user.usuario }}" required>
      </div>

      <div class="mb-3">
        <label for="senha" class="form-label">Senha</label>
        <div class="input-group">
          <input type="password" id="senha" name="senha" class="form-control" placeholder="Digite a nova senha" required>
          <button class="btn btn-outline-secondary" type="button" onclick="togglePassword('senha', 'senhaIcon')" style="border-color: #ced4da;">
            <i id="senhaIcon" class="bi bi-eye"></i>
          </button>
        </div>
      </div>

      <div class="d-flex justify-content-between mt-4">
        <a href="{{ url_for('manage_users') }}" class="btn btn-secondary">
          <i class="bi bi-arrow-left me-1"></i> Voltar
        </a>
        <button type="submit" class="btn btn-primary">
          <i class="bi bi-save me-1"></i> Salvar
        </button>
      </div>
    </form>
  </div>
</div>

{% block scripts %}
<script>
  function togglePassword(fieldId, iconId) {
    const input = document.getElementById(fieldId);
    const icon = document.getElementById(iconId);
    if (input.type === 'password') {
      input.type = 'text';
      icon.classList.replace('bi-eye', 'bi-eye-slash');
    } else {
      input.type = 'password';
      icon.classList.replace('bi-eye-slash', 'bi-eye');
    }
  }
</script>
{% endblock %}
{% endblock %}
